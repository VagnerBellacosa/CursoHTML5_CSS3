<!DOCTYPE html>
<html>
 <head>
 <meta http-equiv="Content-type" content="text/html; charset=utf-8">
 <title>Sample HTML5 File</title>
 </head>

 <body>

 <canvas width="640" height="480" id="testcanvas" style="border: 1px solid black;">
 Your browser does not support HTML5 Canvas. Please shift to a newer browser.
 </canvas>

<img src="spaceship.png" id="spaceship">


<audio controls="controls">
 <source src="music.ogg" type="audio/ogg" />
 <source src="batman.mp3" type="audio/mpeg" />
 Your browser does not support HTML5 Audio. Please shift to a newer browser.
</aud

<br>


<script>

var imageLoader = {
 loaded: true,
 loadedImages: 0,
 totalImages: 0,
 load: function(url) {
 this.totalImages++;
 this.loaded = false;
 var image = new Image();
 image.src = url;
 image.onload = function() {
 imageLoader.loadedImages++;
 if (imageLoader.loadedImages === imageLoader.totalImages) {
 imageLoader.loaded = true;
 }
 image.onload = undefined;
 }
 return image;
 }
}


Listing 1-19. Drawing an Image Loaded Individually
// First: (Load individual images and store in a big array)
// Three arguments: the element, and destination (x, y) coordinates
var image = imageArray[imageNumber];
context.drawImage(image, x, y);


// First: (Load single sprite sheet image)
// Nine arguments: the element, source (x, y) coordinates,
// source width and height (for cropping),
// destination (x, y) coordinates, and
// destination width and height (resize)
context.drawImage (this.spriteImage, this.imageWidth*(imageNumber), 0, this.imageWidth,
this.imageHeight, x, y, this.imageWidth, this.imageHeight);

function animationLoop(){
 // Iterate through all the items in the game
 //And move them
}

function drawingLoop(){
 //1. Clear the canvas
 //2. Iterate through all the items
 //3. And draw each item
}


// Call drawingLoop() every 20 milliseconds
var gameLoop = setInterval(drawingLoop, 20);
// Stop calling drawingLoop() and clear the gameLoop variable
clearInterval(gameLoop);

function drawingLoop(){
 // 1. Call the drawingLoop() method once after 20 milliseconds
 var gameLoop = setTimeout(drawingLoop,20);
 // 2. Clear the canvas
 // 3. Iterate through all the items
 // 4. And draw them
}

// Stop calling drawingLoop() and clear the gameLoop variable
clearTimeout(gameLoop);

function drawingLoop(nowTime){
 // 1. Call the drawingLoop() method whenever the browser is ready to draw again
 var gameLoop = requestAnimationFrame(drawingLoop);
 // 2. Clear the canvas
 // 3. Iterate through all the items
 // 4. Optionally use nowTime and the last nowTime to interpolate frames
 // 5. And draw the items
}

// Stop calling drawingLoop() and clear the gameLoop variable
cancelAnimationFrame(gameLoop);

</script>


 </body>
</html>